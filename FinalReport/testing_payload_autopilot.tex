\section{Payload to Ground Station Communication Testing - (mh23g08)}

\subsection{Test: Establishing Contact with Autopilot - (mh23g08)}
This test simply requires the controller to establish contact with the autopilot, recieving and responding to
transmit tokens sent by the autopilot. Figure \ref{fig:pl_comms_timeout_false} shows that payload is responding
to the transmit tokens sent by the autopilot and not timing out before sending them. Figure \ref{fig:transmit_tokens_succ}
shows a scope trace of the TX and RX lines of the payload - autopilot link

This test verifies milesone \ref{sec:ms_pl_tx_token_resp}.

\begin{figure}[H]
        \centering
        \includegraphics[width=0.5\textwidth]{testing_screenshots/timeout_false.png}
        \captionof{figure}{Timeout false on the customers ground station software shows that the payload is responding to transmit tokens correctly.}
        \label{fig:pl_comms_timeout_false}
\end{figure}


\begin{figure}[H]
        \centering
        \includegraphics[width=0.75\textwidth]{testing_screenshots/transmit_tokens_succ.png}
        \captionof{figure}{Scope trace showing the autopilot sending the transmit token as the top trace (autopilot TX) and the payload responding as the bottom trace (autopilot RX.)}
        \label{fig:transmit_tokens_succ}
\end{figure}

\subsection{Image Sending to Ground Station via Autopilot Link - (mh23g08)}

Initially in order to test payload controller to ground station communications implementation
a PC console program was written to recieve the incoming image data payload controller. By
inputting a \verb+payload[0].send_bytes 0+ command into the ground station software
the payload module triggers an image capture and the console appication requests a download.

Figure \ref{fig:image_sending_test} shows the download of an image from the payload controller to
ground station via the autopilot link while figure \ref{fig:image_sending_test_example} shows an example
of an image downloaded. This test validates milestone \ref{sec:ms_pl_img_sending_gs}.
||||||||||||||| REFER TO DIAGRAM ||||||||||

\begin{figure}[H]
        \centering
        \includegraphics[width=1.00\textwidth]{testing_screenshots/image_sending_test.png}
        \captionof{figure}{Screenshot showing test of image capture and send via autopilot link. Top window is ground station console software recieving image and bottom console window is debug infomation from the payload controller.}
        \label{fig:image_sending_test}
\end{figure}

\begin{figure}[H]
        \centering
        \includegraphics[width=1.00\textwidth]{testing_screenshots/TEST30.jpg}
        \captionof{figure}{Example of image downloaded while testing payload to ground station image sending}
        \label{fig:image_sending_test_example}
\end{figure}

